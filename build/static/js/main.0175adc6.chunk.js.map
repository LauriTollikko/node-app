{"version":3,"sources":["components/Personlist.js","components/AddForm.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Personlist","props","react_default","a","createElement","this","state","persons","map","p","key","id","name","number","onClick","removePerson","AddForm","onSubmit","addPerson","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","type","getAll","axios","get","create","newObject","post","remove","delete","concat","Notification","_ref","message","className","App","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","isNameIncluded","temp","forEach","element","assertThisInitialized","event","preventDefault","alert","newPerson","personService","then","response","setState","data","notificationText","setTimeout","componentDidMount","target","_this2","components_Notification","components_AddForm","components_Personlist","React","Component","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.0175adc6.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Personlist = (props) => {\r\n    return (\r\n    <div>\r\n        <h2>Numerot</h2>\r\n        {props.this.state.persons.map(p => \r\n        <div key={p.id}>\r\n            <p>{p.name} {p.number}\r\n                <button onClick={props.this.removePerson(p.id)}>poista</button>\r\n            </p>\r\n        </div>\r\n        )}\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Personlist","import React from 'react';\r\n\r\nconst AddForm = (props) => {\r\n    \r\n    return (\r\n    <div>\r\n        <form onSubmit={props.this.addPerson}>\r\n          <div>\r\n            nimi: <input \r\n            value={props.this.state.newName}\r\n            onChange={props.this.handleNameChange}\r\n            />\r\n          </div>\r\n          <div>\r\n            numero: <input \r\n            value={props.this.state.newNumber}\r\n            onChange={props.this.handleNumberChange}\r\n            />\r\n          </div>\r\n          <div>\r\n            <button type=\"submit\">lisää</button>\r\n          </div>\r\n        </form>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default AddForm","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = (newObject) => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst remove = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default { getAll, create, remove }","import React from 'react';\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n  return (\r\n    <div className=\"notification\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import React from 'react';\r\nimport Personlist from './components/Personlist';\r\nimport AddForm from './components/AddForm';\r\nimport personService from './services/persons'\r\nimport Notification from './components/Notification'\r\n\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n        persons: [],\r\n        newName: '',\r\n        newNumber: '',\r\n        notificationText: null\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        personService\r\n          .getAll()\r\n          .then(response => {\r\n            this.setState({ persons: response.data })\r\n          })\r\n      }\r\n\r\n    isNameIncluded = () => {\r\n        let temp = false\r\n        this.state.persons.forEach(function(element) {\r\n            if(element.name === this.state.newName) {\r\n                temp = true\r\n            }\r\n        }, this)\r\n        return temp\r\n    }\r\n\r\n    addPerson = (event) => {\r\n        event.preventDefault()\r\n        if(this.isNameIncluded() === true) {\r\n            alert(\"Nimi on jo luettelossa!\")\r\n        } else {\r\n            const newPerson = {\r\n                name: this.state.newName,\r\n                number: this.state.newNumber\r\n            }\r\n            personService\r\n                .create(newPerson)\r\n                .then(response => {\r\n                    this.setState({\r\n                        persons: this.state.persons.concat(response.data),\r\n                        newName: '',\r\n                        newNumber: ''\r\n                     })\r\n                })\r\n                this.setState({\r\n                    notificationText: `Lisättiin ${newPerson.name} luetteloon`\r\n                })\r\n                setTimeout(() => {\r\n                    this.setState({notificationText: null})\r\n                }, 4000)\r\n        }    \r\n    }\r\n    \r\n    removePerson = (id) => {\r\n        return () => {\r\n            personService\r\n                .remove(id)\r\n                .then(response => {\r\n                    this.componentDidMount()\r\n                    })\r\n                this.setState({\r\n                    notificationText: 'Poisto onnistui!'\r\n                })\r\n                setTimeout(() => {\r\n                    this.setState({notificationText: null})\r\n                }, 4000)\r\n        }\r\n    }\r\n\r\n    handleNameChange = (event) => {\r\n        this.setState({ newName: event.target.value})\r\n    }\r\n    \r\n    handleNumberChange = (event) => {\r\n        this.setState({ newNumber: event.target.value})\r\n    }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h2>Puhelinluettelo</h2>\r\n        <Notification message={this.state.notificationText}/>\r\n        <AddForm this={this} />\r\n        <Personlist this={this} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App","import ReactDOM from 'react-dom'\nimport React from 'react'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n  )"],"sourceRoot":""}